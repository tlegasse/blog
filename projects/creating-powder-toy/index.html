<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Creating Powder Toy - Tanner Legasse</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=IBM+Plex+Serif:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/bridge.css><link rel="shortcut icon" href=/favicon.ico><script async src="https://www.googletagmanager.com/gtag/js?id=G-73381DKG18"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-73381DKG18")}</script></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Tanner Legasse" rel=home><div class="logo__item logo__text"><div class=logo__title><div class=logo__item-inner>Tanner <span>Legasse</span></div></div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/search/><span class=menu__text>Search</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Creating Powder Toy</h1></header><div class="content post__content clearfix"><h1 id=introduction>Introduction</h1><p>Powder toy (also known as a falling sand game), for those not familiar, is an sandbox like simulation game where the user is generally free to experiment with various materials which can interact together or sometimes on their own. Some of the game-play mechanics have found their way into public consciousness through games like <a href=https://en.wikipedia.org/wiki/Noita_%28video_game%29>Noita</a>, a popular rogue-like game with realistic material interactions. As an example of how these games generally play, you can check out the video below.</p><iframe width=100% height=315 src="https://www.youtube.com/embed/LGbjdJO04H8?si=cFLjZj7RGq6ZDR5E&mute=1" title="YouTube video player" frameborder=0 allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe><hr><p>I remember running powder toy games back in middle school in MS-DOS, and was endlessly impressed with its smooth operation and engaging gameplay mechanics. Maybe there&rsquo;s even an argument to make that it&rsquo;s one of the quintessential games-with-no-end in the same way that Minecraft used to be. It&rsquo;s just a toy! A powder toy!</p><h1 id=what-is-powder-toy>What is Powder Toy?</h1><p>Surprising, right? We already talked about this! Actually for the purposes of this article, let&rsquo;s jump into the specific mechanics of the game, but first a bit about its lineage. Powder toy actually shares a lot of similar characteristics of an older game, <a href=https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life>Conway&rsquo;s Game of Life</a> (GOL). Both of these (and others like them) are cellular automata, cells are a determined state, and have rules that they abide by in interacting with their environment.</p><h2 id=a-cellular-what>A Cellular&mldr; what?</h2><p>Now, this may sound complex, but the beauty of cellular automata is that it&rsquo;s surprisingly simple, I promise you&rsquo;ll get it. This is how Life works:</p><ul><li>The world is represented by a 2 dimensional array of &ldquo;cells&rdquo;.</li><li>The game world ticks forward one turn at a time.</li><li>A cell is either alive or dead.</li><li>A cell has neighbors.</li><li>A cell comes to life if it has just the right amount of neighbors.</li><li>A cell can&rsquo;t do the life thing if it has too many neighbors, or too few neighbors.</li><li>A ce&mldr; wait&mldr; that&rsquo;s it. That&rsquo;s <strong>all</strong> of the rules.</li></ul><p><em>Bonus: check out the GOL I whipped up while flying to New York. Just hit play</em> üòÅ</p><p class=codepen data-height=700 data-default-tab=result data-slug-hash=oeGVjb data-user=tlegasse style="height:700px;box-sizing:border-box;display:flex;align-items:center;justify-content:center;border:2px solid;margin:1em 0;padding:1em"><span>See the Pen <a href=https://codepen.io/tlegasse/pen/oeGVjb>Tanner's game of life</a> by Tanner Legasse (<a href=https://codepen.io/tlegasse>@tlegasse</a>)
on <a href=https://codepen.io>CodePen</a>.</span></p><script async src=https://cpwebassets.codepen.io/assets/embed/ei.js></script><hr><p>Okay, so GOL is about as simple as you can get while still being interactive. There&rsquo;s some more aspects to consider, and more fundamental mechanisms by which cellular environments can be simulated (<a href=https://en.wikipedia.org/wiki/Elementary_cellular_automaton>Elementary Cellular Automaton</a>), but for our purposes, we&rsquo;re going to skip ahead. Spend some time digging if you want more good reading!</p><h2 id=what-makes-powder-toy-different>What makes Powder Toy different?</h2><p>If you&rsquo;re content with GOL, congrats, go back up and have fun. Some, however, want a more compelling and realistic experience, so the question becomes &ldquo;what?&rdquo; and &ldquo;how?&rdquo;. previously, the data structure was exceedingly simple. One set of rules apply to the only cell type in the game, and most of the cell&rsquo;s data consists of the following (this is the constructor of my GOL Cell class):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>constructor</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kd>let</span> <span class=nx>isAlive</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>random</span><span class=p>()</span> <span class=o>*</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>this</span><span class=p>.</span><span class=nx>x</span> <span class=o>=</span> <span class=nx>x</span>
</span></span><span class=line><span class=cl>	<span class=k>this</span><span class=p>.</span><span class=nx>y</span> <span class=o>=</span> <span class=nx>y</span>
</span></span><span class=line><span class=cl>	<span class=k>this</span><span class=p>.</span><span class=nx>alive</span> <span class=o>=</span> <span class=nx>isAlive</span>
</span></span><span class=line><span class=cl>	<span class=p>...</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>As you can see, we just need to know X and Y, as well as the cell&rsquo;s alive status. Everything else in the constructor is related to keeping that data up to date, but that&rsquo;s it. If you had a cell that couldn&rsquo;t die, couldn&rsquo;t be interacted with and was always alive, you&rsquo;d have a wall. A different material type, but very similar. If you had one type of cell that could interact with another cell that converted either/or to an area of high pressure and temperature, you&rsquo;d have fire and gasoline. Those work differently, you could imagine gas being quickly taken over in a series of turns, and moving gradually <strong>away</strong> from high pressure zones. You could imagine the fire not going away, and responding to gravity; that&rsquo;s stuff we usually call lava. What happens when you mix dirt, water and seeds? Plants!</p><p>At the end of the day/ experiment, the simplicity derived from cells interacting together represents a fun toy, and an even more enjoyable software writing experience.</p><h1 id=goals>Goals</h1><p>I&rsquo;m going to be recreating some of the functionality of powder toy using Go. It is in some ways a non-natural way to leverage Go&rsquo;s robust strengths, however this project will be killing 2 birds with one stone. I&rsquo;ll be leveraging Go&rsquo;s ability to compile to WASM (WebAssembly), and some interesting tools to pull in and serve the build packages. It&rsquo;ll be only as simple as it can be to serve its purpose, and I&rsquo;ll be hosting the finished product, after a few follow up articles, right here, so stay tuned and let me know how you end up liking the process!</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M4 0h8s2 0 4 2l15 15s2 2 0 4L21 31s-2 2-4 0L2 16s-2-2-2-4V3s0-3 4-3m3 10a3 3 0 000-6 3 3 0 000 6"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/project/ rel=tag>project</a></li></ul></div></footer></article></main><section class="fullwidth comments"><script src=https://giscus.app/client.js data-repo=tlegasse/blog data-repo-id=R_kgDOK_uaeA data-category=General data-category-id=DIC_kwDOK_uaeM4CpnXB data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=https://tannerlegasse.com/static/css/giscuss.css data-lang=en data-loading=lazy crossorigin=anonymous async></script></section></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Tanner Legasse.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>