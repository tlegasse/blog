<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Manual Shopify App Authentication - Tanner Legasse</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=IBM+Plex+Serif:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/bridge.css><link rel="shortcut icon" href=/favicon.ico><script async src="https://www.googletagmanager.com/gtag/js?id=G-73381DKG18"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-73381DKG18")}</script></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Tanner Legasse" rel=home><div class="logo__item logo__text"><div class=logo__title><div class=logo__item-inner>Tanner <span>Legasse</span></div></div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/search/><span class=menu__text>Search</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Manual Shopify App Authentication</h1></header><div class="content post__content clearfix"><p>Welcome! This is the first of many blog posts covering Shopify application development that will be published here. You&rsquo;ll follow me through the project agnostic portions of app build I&rsquo;m working through. You&rsquo;ll see a production ready app from concept and setup to go-live.</p><p>If you follow along with this series, you&rsquo;ll see various components take shape, code examples, and a general rundown of why I&rsquo;m making architectural decisions. Here&rsquo;s something I probably don&rsquo;t need to tell you; <strong>I&rsquo;m not perfect. I also don&rsquo;t pretend to be!</strong> So don&rsquo;t expect brilliant code that stands up against every possible use case and every setting. Expect working code that serves as a foundation for fun experiments, <em>lots</em> of learning, and real, working apps. In a lot of cases, I&rsquo;ll be encountering problems and matching them to solutions for the first time ever!</p><p>Before we proceed, you may be wondering&mldr; Why does this article cover manual implementation in this context? Simple! Life is complex and we won&rsquo;t always be using the Shopify CLI (as nice as it clearly is) to build apps. Authentication is also a really interesting process to understand, and can be pretty daunting the way it&rsquo;s described across the internet. I&rsquo;ll be leveraging NextJS for these articles, but if you don&rsquo;t, beyond the platform specific articles to follow (data validation with Zod? Prisma ORM? Who knows!), you should expect that you can use these guides as a conceptual exercise to get you going.</p><p>Let&rsquo;s kick this baby into gear, shall we?</p><hr><h1 id=about-authentication>About Authentication</h1><p>Authentication is the process of validating a connection between services. What&rsquo;s the distribution of responsibility in this process?</p><h2 id=we-need-to-protect-our-users>We need to protect our users&mldr;</h2><p>&mldr; by ensuring a that what&rsquo;s calling us is as they say they are, the Shopify authentication platform.</p><p>To do this, we&rsquo;ll give Shopify a special link to call with several <code>GET</code> parameters. The important part of this is that we pull out the <a href=https://en.m.wikipedia.org/wiki/HMAC><code>HMAC</code></a> header value and put the rest back together alphabetically as one contiguous string, hash that string, and ensure that the <code>HMAC</code> value that Shopify provided matches the <code>HMAC</code> value that we independently calculated ourselves.</p><p>We&rsquo;ll also be storing a per-authentication string that we define. This is called provided back to us in the <code>nonce</code> parameter as we get access to Shopify, so bear this in mind.</p><h2 id=shopify-needs-to-protect-their-users>Shopify needs to protect their users&mldr;</h2><p>&mldr; by proving proof that we, as the app vendor, are who we say we are.</p><p>In order to unlock the front door to the Shopify palace, we&rsquo;ll need a key, naturally. In order to do this, we need the user to grant this key to us, after all, we need to know our guests <em>and know what they&rsquo;ll be up to!</em> To tell Shopify what we&rsquo;ll be doing, we provide a comma separated list of scopes. Depending on the features we want in our app, we may either authenticate store-wide, or on a per-user basis.</p><p>After we run through this request pattern and the user says that we deserve the access that we asked for, we check to make sure that <code>nonce</code> is the same as before for this authentication event and use a special validation token that&rsquo;s provided back to us to get the <em>golden key</em>, our access token!</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M4 0h8s2 0 4 2l15 15s2 2 0 4L21 31s-2 2-4 0L2 16s-2-2-2-4V3s0-3 4-3m3 10a3 3 0 000-6 3 3 0 000 6"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/shopify/ rel=tag>shopify</a></li></ul></div></footer></article></main><section class="fullwidth comments"><script src=https://giscus.app/client.js data-repo=tlegasse/blog data-repo-id=R_kgDOK_uaeA data-category=General data-category-id=DIC_kwDOK_uaeM4CpnXB data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=catppuccin_latte data-lang=en data-loading=lazy crossorigin=anonymous async></script></section></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Tanner Legasse,
<span class=footer__copyright-credits>- Web developer, Shopify expert, friend.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>